{
  "version": 3,
  "sources": ["../src/config/constants.ts"],
  "sourcesContent": [
    "/**\n * Application constants and configuration values\n */\n\nimport { homedir } from \"node:os\";\nimport { join } from \"node:path\";\n\n// Claude Code directories\n// Respects CLAUDE_INSTALL_PATH environment variable for non-standard installations\nexport const CLAUDE_INSTALL_DIR = process.env.CLAUDE_INSTALL_PATH || join(homedir(), \".claude\");\n\n// Claude Code replaces \"/\", \"\\\", \":\", \".\", \"_\" and whitespace with \"-\" in project directory names\nexport const CLAUDE_DIR_SEPARATOR_PATTERN = /[\\\\/:.\\s_]/g;\nexport const CLAUDE_PROJECTS_DIR = join(CLAUDE_INSTALL_DIR, \"projects\");\nexport const CLAUDE_SETTINGS_FILE = join(CLAUDE_INSTALL_DIR, \"settings.json\");\n\n// Base directories\nexport const CLAUDE_ZEST_DIR = join(CLAUDE_INSTALL_DIR, \"..\", \".claude-zest\");\nexport const QUEUE_DIR = join(CLAUDE_ZEST_DIR, \"queue\");\nexport const LOGS_DIR = join(CLAUDE_ZEST_DIR, \"logs\");\nexport const STATE_DIR = join(CLAUDE_ZEST_DIR, \"state\");\nexport const DELETION_CACHE_DIR = join(CLAUDE_ZEST_DIR, \"cache\", \"deletions\");\n\n// File paths\nexport const SESSION_FILE = join(CLAUDE_ZEST_DIR, \"session.json\"); // Auth session + workspace info\nexport const SETTINGS_FILE = join(CLAUDE_ZEST_DIR, \"settings.json\"); // User preferences\nexport const DAEMON_PID_FILE = join(CLAUDE_ZEST_DIR, \"daemon.pid\");\nexport const CLAUDE_INSTANCES_FILE = join(CLAUDE_ZEST_DIR, \"claude-instances.json\"); // Tracked Claude Code instance PIDs\nexport const STATUSLINE_SCRIPT_PATH = join(CLAUDE_ZEST_DIR, \"statusline.mjs\"); // Status line script (.mjs for ESM support)\nexport const STATUS_CACHE_FILE = join(CLAUDE_ZEST_DIR, \"status-cache.json\"); // Status cache for version checks and sync errors\nexport const SYNC_METRICS_FILE = join(CLAUDE_ZEST_DIR, \"sync-metrics.jsonl\"); // Rolling sync metrics for last hour stats\n\n// Queue files\nexport const EVENTS_QUEUE_FILE = join(QUEUE_DIR, \"events.jsonl\");\nexport const SESSIONS_QUEUE_FILE = join(QUEUE_DIR, \"chat-sessions.jsonl\");\nexport const MESSAGES_QUEUE_FILE = join(QUEUE_DIR, \"chat-messages.jsonl\");\n\n// Platform and source identifiers\nexport const PLATFORM = \"terminal\";\nexport const SOURCE = \"claude-code\";\nexport const CLIENT_ID = \"claude-cli\";\n\n// Sync configuration\nexport const SYNC_INTERVAL_MS = 60000; // 60 seconds\nexport const MAX_RETRY_ATTEMPTS = 3;\nexport const RETRY_BACKOFF_MS = 5000;\n\n// File locking configuration\nexport const LOCK_RETRY_MS = 50; // Retry interval when lock is held by another process\nexport const LOCK_MAX_RETRIES = 300; // Max retries (10 seconds total)\n\n// Debounce configuration (prevents duplicate hook executions)\nexport const DEBOUNCE_DIR = join(CLAUDE_ZEST_DIR, \"debounce\");\nexport const DEBOUNCE_WINDOW_MS = 500; // First-wins debounce window\nexport const DEBOUNCE_TRAILING_MS = 300; // Trailing debounce: wait after last hook before processing\n\n// Delayed extraction configuration (for PostToolUse trailing debounce)\nexport const DELAYED_EXTRACTION_INITIAL_DELAY_MS = 500; // Initial wait before checking if hooks settled\nexport const DELAYED_EXTRACTION_MAX_WAIT_MS = 10000; // Maximum total wait time\nexport const DELAYED_EXTRACTION_CHECK_INTERVAL_MS = 300; // How often to check if hooks settled\n\n// Cache configuration\nexport const DELETION_CACHE_TTL_MS = 5 * 60 * 1000; // 5 minutes\n\n// Log rotation configuration\nexport const LOG_RETENTION_DAYS = 7; // Delete log files older than 7 days\n\n// Authentication configuration\nexport const PROACTIVE_REFRESH_THRESHOLD_MS = 5 * 60 * 1000; // Proactively refresh JWT/access tokens 5 minutes before expiration\n\n// Content size limits\nexport const MAX_DIFF_SIZE_BYTES = 10 * 1024 * 1024; // 10MB\nexport const MAX_CONTENT_PREVIEW_LENGTH = 1000; // characters\nexport const MAX_SESSION_TITLE_LENGTH = 100; // characters\nexport const MIN_SESSION_TITLE_LENGTH = 3; // characters\n\n// Session quality filters\nexport const MIN_MESSAGES_PER_SESSION = 3; // Minimum messages required to upload a session\nexport const STALE_SESSION_AGE_MS = 7 * 24 * 60 * 60 * 1000; // 7 days in milliseconds\n\n// API endpoints (configured from .env at build time)\n// Values are baked into the bundle during build\nexport const WEB_APP_URL = process.env.ZEST_WEB_APP_URL || \"http://localhost:3000\";\nexport const SUPABASE_URL = process.env.ZEST_SUPABASE_URL || \"\";\nexport const SUPABASE_ANON_KEY = process.env.ZEST_SUPABASE_ANON_KEY || \"\";\n\n// PostHog analytics (configured from .env at build time)\nexport const POSTHOG_API_KEY = process.env.POSTHOG_API_KEY || \"\";\n\n// Filter patterns for commands/messages to exclude from tracking\nexport const EXCLUDED_COMMAND_PATTERNS = [\n  // Claude Code built-in commands\n  /^\\/(add-dir|agents|bashes|bug|clear|compact|config|context|cost|doctor|exit|export|help|hooks|ide|init|install-github-app|login|logout|mcp|memory|model|output-style|permissions|plugin|pr-comments|privacy-settings|release-notes|resume|review|rewind|sandbox|security-review|stats|status|statusline|terminal-setup|todos|usage|vim)\\b/i,\n\n  // Zest plugin commands (like /zest:status, /zest:login, etc.)\n  /^\\/zest[^:\\s]*:/i,\n\n  // Messages containing Zest command tags (e.g., <command-name>/zest:status</command-name>)\n  /<command-name>\\/zest[^<]*<\\/command-name>/i,\n\n  // Messages containing Zest CLI script paths (e.g., \"node .../dist/commands/sync-cli.js\")\n  /node\\s+.*\\/dist\\/commands\\/.*-cli\\.js/i,\n];\n\nexport const ZEST_SESSION_NAMESPACE = \"1b671a64-40d5-491e-99b0-da01ff1f3341\";\n\n// Version check configuration\n// If ZEST_MARKETPLACE_PLUGIN_JSON_URL is not set, version checking will be disabled\nexport const MARKETPLACE_PLUGIN_JSON_URL = process.env.ZEST_MARKETPLACE_PLUGIN_JSON_URL || \"\";\nexport const VERSION_CHECK_TIMEOUT_MS = 5000; // 5 seconds\nexport const UPDATE_CHECK_CACHE_TTL_MS = 60 * 60 * 1000; // 1 hour - how long to cache update check results\n\n// Daemon management configuration\nexport const DAEMON_FRESH_PID_THRESHOLD_MS = 2000; // 2 seconds - how recently PID file must be modified to skip restart\nexport const DAEMON_INACTIVITY_TIMEOUT_MS = 5 * 60 * 1000; // 5 minutes - auto-shutdown daemon when no Claude Code instances are running\n\n// Sync metrics configuration\nexport const SYNC_METRICS_RETENTION_MS = 60 * 60 * 1000; // 1 hour - how long to keep sync metrics for last-hour stats\n"
  ],
  "mappings": ";AAIA;AACA;AAIO,IAAM,qBAAqB,QAAQ,IAAI,uBAAuB,KAAK,QAAQ,GAAG,SAAS;AAGvF,IAAM,+BAA+B;AACrC,IAAM,sBAAsB,KAAK,oBAAoB,UAAU;AAC/D,IAAM,uBAAuB,KAAK,oBAAoB,eAAe;AAGrE,IAAM,kBAAkB,KAAK,oBAAoB,MAAM,cAAc;AACrE,IAAM,YAAY,KAAK,iBAAiB,OAAO;AAC/C,IAAM,WAAW,KAAK,iBAAiB,MAAM;AAC7C,IAAM,YAAY,KAAK,iBAAiB,OAAO;AAC/C,IAAM,qBAAqB,KAAK,iBAAiB,SAAS,WAAW;AAGrE,IAAM,eAAe,KAAK,iBAAiB,cAAc;AACzD,IAAM,gBAAgB,KAAK,iBAAiB,eAAe;AAC3D,IAAM,kBAAkB,KAAK,iBAAiB,YAAY;AAC1D,IAAM,wBAAwB,KAAK,iBAAiB,uBAAuB;AAC3E,IAAM,yBAAyB,KAAK,iBAAiB,gBAAgB;AACrE,IAAM,oBAAoB,KAAK,iBAAiB,mBAAmB;AACnE,IAAM,oBAAoB,KAAK,iBAAiB,oBAAoB;AAGpE,IAAM,oBAAoB,KAAK,WAAW,cAAc;AACxD,IAAM,sBAAsB,KAAK,WAAW,qBAAqB;AACjE,IAAM,sBAAsB,KAAK,WAAW,qBAAqB;AAGjE,IAAM,WAAW;AACjB,IAAM,SAAS;AACf,IAAM,YAAY;AAGlB,IAAM,mBAAmB;AACzB,IAAM,qBAAqB;AAC3B,IAAM,mBAAmB;AAGzB,IAAM,gBAAgB;AACtB,IAAM,mBAAmB;AAGzB,IAAM,eAAe,KAAK,iBAAiB,UAAU;AACrD,IAAM,qBAAqB;AAC3B,IAAM,uBAAuB;AAG7B,IAAM,sCAAsC;AAC5C,IAAM,iCAAiC;AACvC,IAAM,uCAAuC;AAG7C,IAAM,wBAAwB,IAAI,KAAK;AAGvC,IAAM,qBAAqB;AAG3B,IAAM,iCAAiC,IAAI,KAAK;AAGhD,IAAM,sBAAsB,KAAK,OAAO;AACxC,IAAM,6BAA6B;AACnC,IAAM,2BAA2B;AACjC,IAAM,2BAA2B;AAGjC,IAAM,2BAA2B;AACjC,IAAM,uBAAuB,IAAI,KAAK,KAAK,KAAK;AAIhD,IAAM,cAAc;AACpB,IAAM,eAAe;AACrB,IAAM,oBAAoB;AAG1B,IAAM,kBAAkB;AAGxB,IAAM,4BAA4B;AAAA,EAEvC;AAAA,EAGA;AAAA,EAGA;AAAA,EAGA;AACF;AAEO,IAAM,yBAAyB;AAI/B,IAAM,8BAA8E;AACpF,IAAM,2BAA2B;AACjC,IAAM,4BAA4B,KAAK,KAAK;AAG5C,IAAM,gCAAgC;AACtC,IAAM,+BAA+B,IAAI,KAAK;AAG9C,IAAM,4BAA4B,KAAK,KAAK;",
  "debugId": "1F34C82489F0617E64756E2164756E21",
  "names": []
}